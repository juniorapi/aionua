jQuery.fn.extend({live:function(t,i){this.selector&&jQuery(document).on(t,this.selector,i)}}),String.prototype.replaceAll=function(t,i){return this.split(t).join(i)},parseBuild(),check_stigmas(),hidden_stigma();var popoutStatus=!1;$(document).click(function(t){popoutStatus||0!=$(t.target).closest("#enchant").length||$("#enchant").fadeOut(300,function(){$(this).remove()}),popoutStatus=!1});var mouseX,mouseY;$(document).mousemove(function(t){mouseX=t.pageX,mouseY=t.pageY}),$('#left_stigma section[id *= "wrap_"]').hover(function(){{var t=$(this).find("div").attr("data-stigma"),i=$(this).offset();i.top,i.left}"00"!=t&&"000"!=t&&"001"!=t&&"002"!=t&&"003"!=t&&$(this).append('<img src="/stigmas/img/add.png" class="enchant" data-enstigma="'+t+'" style="position: absolute; top: 31px; left: 75px; display: block;" title="Charge Stigma" alt="">')},function(){$(".enchant").remove()}),$(".enchant").live("click",function(){$("#enchant").fadeOut(300,function(){$(this).remove()});var t=$(this).offset(),i=Number($(this).attr("data-enstigma")),a="";a+='<div id="enchant" style="top: '+(t.top+35)+"px; left: "+(t.left-136)+'px; display: none">';for(var e=1;10>=e;e++)a+=enchant[i-1]==e?'<div class="button" style="background-color: #2B2B2B" data-stigma="'+i+'" data-value="'+e+'">+ '+e+"</div>":'<div class="button" data-stigma="'+i+'" data-value="'+e+'">+ '+e+"</div>";a+="</div>",$("body").append(a),$("#enchant").fadeIn(100),popoutStatus=!0}),$(".button").live("click",function(){var t=1*$(this).attr("data-stigma"),i=$(this).attr("data-value");enchant[t-1]=1*i,$(this).parent().fadeOut(300,function(){$(this).remove()}),hidden_stigma(),getBuild()}),$("#char_lvl").blur(function(){var t=1*$(this).val();isNaN(t)&&(t=65,$(this).val("65")),20>t?$(this).val("20"):t>65&&$(this).val("65"),check_stigmas(),clear_build(),check_lvl($("#char_lvl").val()),getBuild()}),$('#right_stigma div[class *= "stigma"]').click(function(){selection_stigmas(this),check_stigmas(),hidden_stigma(),getBuild()}),$("#left_stigma div[data-level]").click(function(){removing_stigmas(this),check_stigmas(),hidden_stigma(),getBuild()}),$("#default_build").click(function(){clear_build(),check_stigmas(),getBuild()}),$("#link_build").click(function(){prompt("A link to your build:",getBuild())}),$('#stigma_info td[data-stigma][data-status != "disabled"]').click(function(){getVisionStigma($(this).attr("data-stigma")),check_stigmas(),hidden_stigma(),getBuild()});var tooltip_element="tooltip_slot";$("div[data-stigma],td[data-stigma]").mousemove(function(){var t=$(this).attr("data-stigma"),i=$(this).attr("id"),a=$('#right_stigma div[data-stigma = "'+t+'"]').attr("data-level");if(void 0==a&&(a="hidden"),"00"!==t&&"000"!==t)"001"==t?t="18":"002"==t?t="19":"003"==t&&(t="20"),$(".skill").html(getSkill(t,a,enchant[1*t-1])),tooltip($(".skill")),$(".skill").show();else switch(i){case"gold1":$(".tip").html("Major Stigma Slot (55 level)"),tooltip($(".tip")),$(".tip").show();break;case"blue1":$(".tip").html("Greater Stigma Slot (50 level)"),tooltip($(".tip")),$(".tip").show();break;case"blue2":$(".tip").html("Greater Stigma Slot (45 level)"),tooltip($(".tip")),$(".tip").show();break;case"green1":$(".tip").html("Stigma Slot (40 level)"),tooltip($(".tip")),$(".tip").show();break;case"green2":$(".tip").html("Stigma Slot (30 level)"),tooltip($(".tip")),$(".tip").show();break;case"green3":$(".tip").html("Stigma Slot (20 level)"),tooltip($(".tip")),$(".tip").show();break;case"hidden_stigma":$(".tip").html("If you equip Charged Stigmas in all 6 slots, a Linked Stigma skill becomes available.<br>If any slot contains an Inert Stigma, however, a Linked Stigma skill will not be available."),tooltip($(".tip")),$(".tip").show()}}),$("div[data-stigma],td[data-stigma]").mouseout(function(){$(".skill").hide(),$(".tip").hide()});